// hardcoded PRNG sequence
//   (c) T. Blaha TUDelft 2024

#include "platform.h"
#include "rng.h"

#define RNG_N 199 // should be prime to avoid wrapping rng onto itself
static uint8_t randomSequence[RNG_N] = {
    // from random import randint; ",".join([hex(randint(0,255)) for i in range(199)])
    0x8d,0x8f,0xa8,0x2f,0x29,0x92,0x9d,0xad,0x73,0x4c,0xc8,0x96,0x7c,0x50,0xfd,0x4c,0x24,0x25,0xad,0x50,0x2e,0xaa,0xfb,0x79,0xe5,0xd6,0x22,0x96,0xba,0x8d,0x8b,0x79,0xf9,0xc5,0x50,0xf5,0x91,0xc4,0x19,0x98,0xd4,0xe2,0xc1,0x94,0xfc,0xcd,0xd9,0xe8,0x25,0x18,0x58,0x5d,0x20,0x32,0xcf,0xe4,0x7e,0x5c,0x7c,0xd3,0x8b,0xc3,0xda,0xab,0xe4,0xa7,0x87,0x96,0x3f,0xea,0xbe,0x89,0x9d,0x5f,0x42,0xd,0xcc,0xad,0x23,0xc,0x44,0xf4,0x95,0x88,0x1b,0xcc,0x2a,0xe0,0x22,0xc5,0x58,0x39,0x79,0x7d,0x52,0xaf,0xf,0x47,0x56,0xb3,0xf1,0x85,0xf7,0x85,0xaf,0x5b,0x3,0x5b,0x12,0x3b,0xcc,0x7,0x3a,0xb9,0xbb,0xe4,0x71,0x39,0xe3,0x76,0x1a,0x5e,0xf7,0x2b,0x96,0x6f,0xde,0x83,0x1a,0x94,0xea,0x23,0x42,0x17,0x2f,0x55,0x78,0x9d,0x31,0x60,0x25,0xab,0x6,0xbb,0x7a,0x7c,0x2e,0xc,0xa8,0x81,0x1,0xbd,0x25,0xea,0xae,0xde,0xbb,0xc7,0xc4,0xb5,0x12,0x70,0xb6,0x4e,0xeb,0xf2,0x58,0xe8,0x18,0x3f,0x7d,0xd4,0xe3,0x95,0xa5,0xe1,0x4,0x31,0xd9,0xcf,0x15,0x5f,0x3e,0x34,0xae,0x26,0xe5,0xf0,0x62,0x58,0xb0,0xa7,0xee,0xf9,0x34,0xf6,0x91,0xb2,0x71
};

// really dumb rng number generator
float rngFloat(void) {
    // returns "random number" between -1 and 1 in 8 bit resolution
    static int rngSeed = 0; // index in randomSequence
    if (++rngSeed >= RNG_N)
        // wrap sequence
        rngSeed = 0;

    return ( ((float)(randomSequence[rngSeed] - 127)) / 128.f );
}
